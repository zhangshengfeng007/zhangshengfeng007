C51 COMPILER V9.60.0.0   PWM_DRIVER                                                        05/24/2022 18:18:57 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE PWM_DRIVER
OBJECT MODULE PLACED IN .\Objects\pwm_driver.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE Driver\pwm_driver.c WARNINGLEVEL(1) OPTIMIZE(8,SPEED) BROWSE INCDIR(.\Ap
                    -p\inc;.\Driver\inc) DEBUG OBJECTEXTEND PRINT(.\Listings\pwm_driver.lst) OBJECT(.\Objects\pwm_driver.obj)

line level    source

   1          #include "pwm_driver.h"
   2          
   3          #define         PWM10En         (1<<0)
   4          #define         PWMnEn          (1<<7)
   5          #define         PWNV1           (1<<2)
   6          
   7          void Pwm_Init(void)
   8          {
   9   1              //PWM1_Initial
  10   1              PW1YH = 0x00;
  11   1              PW1YL = 0x00;           //Fre = 0
  12   1              PW1DH = 0x00;
  13   1              PW1DL = 0x01;           //Duty = 1
  14   1              PW1BH = 0x60;
  15   1              PW1BL = 0x00;           //ËÀÇøB
  16   1              PW1A = 0x80;            //ËÀÇøA
  17   1              
  18   1              //PW10 channel enable
  19   1              PW1CH = PWM10En;
  20   1              //PWM1 enable,P10/11/12 output inverse, clock = Fosc/32
  21   1              PW1M = PWMnEn | PWNV1 | 0x20;
  22   1      }
  23          
  24          
  25          void Pwm_Set(uint32_t Frq_value,uint16_t duty_value)
  26          {
  27   1              PW1YH = Frq_value>>8;
  28   1              PW1YL = Frq_value&0xff;
  29   1              PW1DH = duty_value>>8;
  30   1              PW1DL = duty_value&0xff;
  31   1      }
  32          
  33          
  34          
  35          
  36          
  37          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     54    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       6
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
